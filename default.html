<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½åŸŸåé€‰æ‹© | GALAXY MACAU</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        h1 {
            color: #333;
            margin-bottom: 15px;
            font-size: 24px;
            font-weight: 600;
        }

        .description {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
            font-size: 16px;
        }

        .progress-container {
            margin: 30px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .status-list {
            text-align: left;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            max-height: 200px;
            overflow-y: auto;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 14px;
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .domain-name {
            font-weight: 500;
            color: #333;
        }

        .status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 500;
        }

        .status.testing {
            background: #fff3cd;
            color: #856404;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
        }

        .status.fastest {
            background: #667eea;
            color: white;
        }

        .result-container {
            margin-top: 20px;
            padding: 20px;
            background: #e8f5e8;
            border-radius: 12px;
            border-left: 4px solid #28a745;
            display: none;
        }

        .result-container.show {
            display: block;
        }

        .fastest-domain {
            font-size: 18px;
            font-weight: 600;
            color: #28a745;
            margin-bottom: 10px;
        }

        .redirect-info {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .countdown {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
        }

        .manual-select {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            display: none;
        }

        .manual-select.show {
            display: block;
        }

        .domain-button {
            display: inline-block;
            margin: 5px;
            padding: 8px 16px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 20px;
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .domain-button:hover {
            background: #667eea;
            color: white;
        }

        .error-container {
            margin-top: 20px;
            padding: 20px;
            background: #f8d7da;
            border-radius: 12px;
            border-left: 4px solid #dc3545;
            display: none;
        }

        .error-container.show {
            display: block;
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 20px;
            }
            
            .description {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">ğŸš€</div>
        <h1>æ­£åœ¨ä¸ºæ‚¨é€‰æ‹©æœ€ä½³è®¿é—®èŠ‚ç‚¹</h1>
        <div class="description">
            æ­£åœ¨åå°æ£€æµ‹å¤šä¸ªåŸŸåçš„è®¿é—®é€Ÿåº¦ï¼Œè¯·ç¨å€™...
        </div>
        
        <div class="loading-animation" style="margin: 30px 0; text-align: center;">
            <div class="spinner" style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        </div>

        <style>
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>

        <!-- éšè—çš„è¿›åº¦å’ŒçŠ¶æ€å…ƒç´  -->
        <div class="progress-container" style="display: none;">
            <div class="progress-text" id="progressText">å‡†å¤‡å¼€å§‹æµ‹è¯•...</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="status-list" id="statusList" style="display: none;">
            <!-- åŠ¨æ€ç”ŸæˆçŠ¶æ€åˆ—è¡¨ -->
        </div>

        <div class="result-container" id="resultContainer">
            <div class="fastest-domain" id="fastestDomain"></div>
            <div class="redirect-info">å°†åœ¨ <span class="countdown" id="countdown">3</span> ç§’åè‡ªåŠ¨è·³è½¬</div>
        </div>

        <div class="error-container" id="errorContainer">
            <h3 style="color: #dc3545; margin-bottom: 10px;">æµ‹è¯•å¤±è´¥</h3>
            <p style="color: #721c24; font-size: 14px;">æ‰€æœ‰åŸŸåéƒ½æ— æ³•è®¿é—®ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–æ‰‹åŠ¨é€‰æ‹©åŸŸåã€‚</p>
        </div>

        <div class="manual-select" id="manualSelect">
            <h4 style="margin-bottom: 15px; color: #333;">æ‰‹åŠ¨é€‰æ‹©åŸŸåï¼š</h4>
            <div id="domainButtons">
                <!-- åŠ¨æ€ç”ŸæˆåŸŸåæŒ‰é’® -->
            </div>
        </div>
    </div>

    <script>
        // ç¤¾äº¤åº”ç”¨æµè§ˆå™¨æ£€æµ‹åŠŸèƒ½
        class SocialAppDetector {
            constructor() {
                this.userAgent = navigator.userAgent.toLowerCase();
            }

            // æ£€æµ‹æ˜¯å¦åœ¨å¾®ä¿¡å†…ç½®æµè§ˆå™¨ä¸­
            isWeChat() {
                return this.userAgent.includes('micromessenger');
            }

            // æ£€æµ‹æ˜¯å¦åœ¨QQå†…ç½®æµè§ˆå™¨ä¸­
            isQQ() {
                return this.userAgent.includes('qq/') && !this.userAgent.includes('mqqbrowser');
            }

            // æ£€æµ‹æ˜¯å¦åœ¨QQæµè§ˆå™¨ä¸­
            isQQBrowser() {
                return this.userAgent.includes('mqqbrowser');
            }

            // æ£€æµ‹æ˜¯å¦åœ¨å¾®åšå†…ç½®æµè§ˆå™¨ä¸­
            isWeibo() {
                return this.userAgent.includes('weibo');
            }

            // æ£€æµ‹æ˜¯å¦åœ¨æ”¯ä»˜å®å†…ç½®æµè§ˆå™¨ä¸­
            isAlipay() {
                return this.userAgent.includes('alipayclient');
            }

            // æ£€æµ‹æ˜¯å¦åœ¨ä»»ä½•ç¤¾äº¤åº”ç”¨å†…ç½®æµè§ˆå™¨ä¸­
            isInSocialApp() {
                return this.isWeChat() || this.isQQ() || this.isQQBrowser() || this.isWeibo() || this.isAlipay();
            }

            // è·å–æµè§ˆå™¨åç§°
            getBrowserName() {
                if (this.isWeChat()) return 'å¾®ä¿¡';
                if (this.isQQ()) return 'QQ';
                if (this.isQQBrowser()) return 'QQæµè§ˆå™¨';
                if (this.isWeibo()) return 'å¾®åš';
                if (this.isAlipay()) return 'æ”¯ä»˜å®';
                return 'ç¤¾äº¤åº”ç”¨';
            }
        }

        class DomainSpeedTester {
            constructor() {
                // é¦–å…ˆæ£€æµ‹æ˜¯å¦åœ¨ç¤¾äº¤åº”ç”¨ä¸­
                this.socialDetector = new SocialAppDetector();
                
                if (this.socialDetector.isInSocialApp()) {
                    this.showSocialAppWarning();
                    return;
                }
                
                // é…ç½®åŸŸååˆ—è¡¨ - å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹
                this.domains = [
                    { name: 'google.com', url: 'https://google.com' },
                    { name: 'baidu.com', url: 'https://baidu.com' },
                    { name: 'github.com', url: 'https://github.com' },
                    { name: 'stackoverflow.com', url: 'https://stackoverflow.com' }
                ];
                
                // ä»URLå‚æ•°è·å–è‡ªå®šä¹‰åŸŸå
                this.loadDomainsFromParams();
                
                this.results = [];
                this.currentProgress = 0;
                this.totalTests = this.domains.length;
                
                this.init();
            }

            // æ˜¾ç¤ºç¤¾äº¤åº”ç”¨è­¦å‘Š
            showSocialAppWarning() {
                const browserName = this.socialDetector.getBrowserName();
                
                // ä¿®æ”¹é¡µé¢å†…å®¹
                document.querySelector('.logo').textContent = 'âš ï¸';
                document.querySelector('h1').textContent = 'è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€';
                document.querySelector('.description').innerHTML = `
                    æ£€æµ‹åˆ°æ‚¨æ­£åœ¨<strong>${browserName}</strong>å†…ç½®æµè§ˆå™¨ä¸­è®¿é—®ã€‚<br>
                    ä¸ºäº†è·å¾—æœ€ä½³ä½“éªŒå’ŒåŠŸèƒ½å®Œæ•´æ€§ï¼Œè¯·ä½¿ç”¨æ‰‹æœºé»˜è®¤æµè§ˆå™¨æ‰“å¼€æ­¤é¡µé¢ã€‚
                `;
                
                // éšè—è¿›åº¦æ¡å’ŒçŠ¶æ€åˆ—è¡¨
                document.querySelector('.progress-container').style.display = 'none';
                document.getElementById('statusList').style.display = 'none';
                
                // æ˜¾ç¤ºæ“ä½œæŒ‡å¼•
                this.showBrowserGuide(browserName);
            }

            // æ˜¾ç¤ºæµè§ˆå™¨æ‰“å¼€æŒ‡å¼•
            showBrowserGuide(browserName) {
                const guideContainer = document.createElement('div');
                guideContainer.className = 'browser-guide';
                guideContainer.style.cssText = `
                    margin: 30px 0;
                    padding: 20px;
                    background: #fff3cd;
                    border: 1px solid #ffeaa7;
                    border-radius: 12px;
                    border-left: 4px solid #f39c12;
                `;
                
                let guideSteps = '';
                
                if (browserName === 'å¾®ä¿¡') {
                    guideSteps = `
                        <div class="guide-steps">
                            <div class="step-item">1. ç‚¹å‡»å³ä¸Šè§’ <strong>"â‹¯"</strong> èœå•æŒ‰é’®</div>
                            <div class="step-item">2. é€‰æ‹© <strong>"åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€"</strong></div>
                            <div class="step-item">3. é€‰æ‹©æ‚¨çš„é»˜è®¤æµè§ˆå™¨ï¼ˆå¦‚Safariã€Chromeç­‰ï¼‰</div>
                        </div>
                    `;
                } else if (browserName === 'QQ') {
                    guideSteps = `
                        <div class="guide-steps">
                            <div class="step-item">1. ç‚¹å‡»å³ä¸Šè§’ <strong>"â‹¯"</strong> èœå•æŒ‰é’®</div>
                            <div class="step-item">2. é€‰æ‹© <strong>"åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€"</strong></div>
                            <div class="step-item">3. é€‰æ‹©æ‚¨çš„é»˜è®¤æµè§ˆå™¨</div>
                        </div>
                    `;
                } else {
                    guideSteps = `
                        <div class="guide-steps">
                            <div class="step-item">1. ç‚¹å‡»å³ä¸Šè§’èœå•æŒ‰é’®</div>
                            <div class="step-item">2. é€‰æ‹© <strong>"åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€"</strong> æˆ– <strong>"ç”¨æµè§ˆå™¨æ‰“å¼€"</strong></div>
                            <div class="step-item">3. é€‰æ‹©æ‚¨çš„é»˜è®¤æµè§ˆå™¨</div>
                        </div>
                    `;
                }
                
                guideContainer.innerHTML = `
                    <h3 style="margin: 0 0 15px; color: #856404; font-size: 16px;">ğŸ“± æ“ä½œæ­¥éª¤ï¼š</h3>
                    ${guideSteps}
                    <div style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 6px; font-size: 14px; color: #856404;">
                        ğŸ’¡ <strong>æç¤ºï¼š</strong>åœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€åï¼Œæ‚¨å°†èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨åŸŸåé€Ÿåº¦æµ‹è¯•åŠŸèƒ½ã€‚
                    </div>
                `;
                
                // æ·»åŠ æ­¥éª¤æ ·å¼
                const stepStyle = document.createElement('style');
                stepStyle.textContent = `
                    .guide-steps .step-item {
                        padding: 8px 0;
                        border-bottom: 1px solid rgba(255,234,167,0.5);
                        font-size: 14px;
                        color: #856404;
                    }
                    .guide-steps .step-item:last-child {
                        border-bottom: none;
                    }
                `;
                document.head.appendChild(stepStyle);
                
                // æ’å…¥åˆ°æè¿°åé¢
                const description = document.querySelector('.description');
                description.parentNode.insertBefore(guideContainer, description.nextSibling);
                
                // æ·»åŠ å¤åˆ¶å½“å‰URLçš„åŠŸèƒ½
                this.addCopyUrlFeature();
            }

            // æ·»åŠ å¤åˆ¶URLåŠŸèƒ½
            addCopyUrlFeature() {
                const copyContainer = document.createElement('div');
                copyContainer.style.cssText = `
                    margin: 20px 0;
                    padding: 15px;
                    background: #f8f9fa;
                    border-radius: 8px;
                    border: 1px solid #e9ecef;
                `;
                
                copyContainer.innerHTML = `
                    <div style="margin-bottom: 10px; font-size: 14px; color: #666;">å½“å‰é¡µé¢åœ°å€ï¼š</div>
                    <div style="background: white; padding: 10px; border-radius: 6px; font-family: monospace; font-size: 12px; word-break: break-all; border: 1px solid #ddd; margin-bottom: 10px;">${window.location.href}</div>
                    <button id="copyUrlBtn" style="width: 100%; padding: 10px; background: #667eea; color: white; border: none; border-radius: 6px; font-size: 14px; cursor: pointer;">ğŸ“‹ å¤åˆ¶é¡µé¢åœ°å€</button>
                `;
                
                document.querySelector('.container').appendChild(copyContainer);
                
                // ç»‘å®šå¤åˆ¶åŠŸèƒ½
                document.getElementById('copyUrlBtn').addEventListener('click', () => {
                    this.copyToClipboard(window.location.href);
                });
            }

            // å¤åˆ¶åˆ°å‰ªè´´æ¿
            copyToClipboard(text) {
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(text).then(() => {
                        this.showToast('é¡µé¢åœ°å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                    }).catch(() => {
                        this.fallbackCopy(text);
                    });
                } else {
                    this.fallbackCopy(text);
                }
            }

            // é™çº§å¤åˆ¶æ–¹æ¡ˆ
            fallbackCopy(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-9999px';
                document.body.appendChild(textArea);
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    this.showToast('é¡µé¢åœ°å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                } catch (err) {
                    this.showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶åœ°å€');
                }
                
                document.body.removeChild(textArea);
            }

            // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
            showToast(message) {
                const toast = document.createElement('div');
                toast.textContent = message;
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    padding: 12px 24px;
                    border-radius: 25px;
                    font-size: 14px;
                    z-index: 10000;
                    transition: opacity 0.3s ease;
                `;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.opacity = '0';
                    setTimeout(() => {
                        if (document.body.contains(toast)) {
                            document.body.removeChild(toast);
                        }
                    }, 300);
                }, 2000);
            }

            // ä»URLå‚æ•°åŠ è½½åŸŸåé…ç½®
            loadDomainsFromParams() {
                const urlParams = new URLSearchParams(window.location.search);
                const domainsParam = urlParams.get('domains');
                
                if (domainsParam) {
                    try {
                        const customDomains = JSON.parse(decodeURIComponent(domainsParam));
                        if (Array.isArray(customDomains) && customDomains.length > 0) {
                            this.domains = customDomains.map(domain => {
                                if (typeof domain === 'string') {
                                    return { name: domain, url: domain.startsWith('http') ? domain : `https://${domain}` };
                                }
                                return domain;
                            });
                        }
                    } catch (e) {
                        console.warn('æ— æ³•è§£ædomainså‚æ•°:', e);
                    }
                }
            }

            // é™é»˜åˆå§‹åŒ–
            init() {
                this.startTesting();
            }

            // é™é»˜æ¸²æŸ“ï¼Œä¸æ˜¾ç¤ºçŠ¶æ€åˆ—è¡¨
            renderStatusList() {
                // é™é»˜æ¨¡å¼ï¼Œä¸ç”ŸæˆçŠ¶æ€åˆ—è¡¨
            }

            // æ¸²æŸ“åŸŸåæŒ‰é’®
            renderDomainButtons() {
                const domainButtons = document.getElementById('domainButtons');
                domainButtons.innerHTML = this.domains.map(domain => `
                    <a href="${domain.url}" class="domain-button">${domain.name}</a>
                `).join('');
            }

            // è·å–åŸŸåIDï¼ˆç”¨äºDOMæ“ä½œï¼‰
            getDomainId(domainName) {
                return domainName.replace(/[^a-zA-Z0-9]/g, '-');
            }

            // é™é»˜æ£€æµ‹ï¼Œä¸æ˜¾ç¤ºè¿›åº¦å’ŒçŠ¶æ€
            updateProgress(current, total, text) {
                // é™é»˜æ¨¡å¼ï¼Œä¸æ›´æ–°UI
            }

            // é™é»˜æ›´æ–°åŸŸåçŠ¶æ€
            updateDomainStatus(domainName, status, responseTime = null) {
                // é™é»˜æ¨¡å¼ï¼Œä¸æ›´æ–°UI
            }

            // é™é»˜æµ‹è¯•å•ä¸ªåŸŸåé€Ÿåº¦
            async testDomainSpeed(domain) {
                const startTime = Date.now();
                const timeout = 5000; // 5ç§’è¶…æ—¶
                
                try {
                    // ä½¿ç”¨fetchæµ‹è¯•è¿æ¥é€Ÿåº¦
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), timeout);
                    
                    const response = await fetch(domain.url, {
                        method: 'HEAD', // åªè·å–å¤´éƒ¨ä¿¡æ¯ï¼Œå‡å°‘æ•°æ®ä¼ è¾“
                        mode: 'no-cors', // é¿å…CORSé—®é¢˜
                        signal: controller.signal,
                        cache: 'no-cache'
                    });
                    
                    clearTimeout(timeoutId);
                    const responseTime = Date.now() - startTime;
                    
                    return {
                        domain: domain,
                        responseTime: responseTime,
                        success: true
                    };
                } catch (error) {
                    const responseTime = Date.now() - startTime;
                    
                    return {
                        domain: domain,
                        responseTime: responseTime,
                        success: false,
                        error: error.message
                    };
                }
            }

            // å¼€å§‹æµ‹è¯•æ‰€æœ‰åŸŸå
            async startTesting() {
                // é™é»˜å¼€å§‹æµ‹è¯•
                
                // å¹¶å‘æµ‹è¯•æ‰€æœ‰åŸŸå
                const testPromises = this.domains.map(async (domain, index) => {
                    const result = await this.testDomainSpeed(domain);
                    this.currentProgress++;
                    return result;
                });
                
                try {
                    this.results = await Promise.all(testPromises);
                    this.handleTestResults();
                } catch (error) {
                    console.error('æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error);
                    this.showError();
                }
            }

            // å¤„ç†æµ‹è¯•ç»“æœ
            handleTestResults() {
                // è¿‡æ»¤æˆåŠŸçš„ç»“æœå¹¶æŒ‰å“åº”æ—¶é—´æ’åº
                const successResults = this.results
                    .filter(result => result.success)
                    .sort((a, b) => a.responseTime - b.responseTime);
                
                if (successResults.length === 0) {
                    this.showError();
                    return;
                }
                
                // è·å–æœ€å¿«çš„åŸŸå
                const fastest = successResults[0];
                
                // æ ‡è®°æœ€å¿«çš„åŸŸå
                this.updateDomainStatus(fastest.domain.name, 'fastest', fastest.responseTime);
                
                // æ˜¾ç¤ºç»“æœå¹¶å¼€å§‹å€’è®¡æ—¶
                this.showResult(fastest);
            }

            // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
            showResult(fastest) {
                const resultContainer = document.getElementById('resultContainer');
                const fastestDomain = document.getElementById('fastestDomain');
                
                fastestDomain.textContent = `æœ€å¿«åŸŸå: ${fastest.domain.name} (${fastest.responseTime}ms)`;
                resultContainer.classList.add('show');
                
                // é™é»˜å®Œæˆæµ‹è¯•
                
                // å¼€å§‹å€’è®¡æ—¶
                this.startCountdown(fastest.domain.url);
            }

            // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            showError() {
                const errorContainer = document.getElementById('errorContainer');
                const manualSelect = document.getElementById('manualSelect');
                
                errorContainer.classList.add('show');
                manualSelect.classList.add('show');
                
                // é™é»˜å®Œæˆæµ‹è¯•ï¼Œæ˜¾ç¤ºé”™è¯¯
            }

            // å¼€å§‹å€’è®¡æ—¶å¹¶è·³è½¬
            startCountdown(targetUrl) {
                let countdown = 3;
                const countdownElement = document.getElementById('countdown');
                
                const timer = setInterval(() => {
                    countdown--;
                    countdownElement.textContent = countdown;
                    
                    if (countdown <= 0) {
                        clearInterval(timer);
                        window.location.href = targetUrl;
                    }
                }, 1000);
                
                // ç‚¹å‡»ä»»æ„åœ°æ–¹ç«‹å³è·³è½¬
                document.addEventListener('click', () => {
                    clearInterval(timer);
                    window.location.href = targetUrl;
                }, { once: true });
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹æµ‹è¯•
        document.addEventListener('DOMContentLoaded', () => {
            new DomainSpeedTester();
        });

        // å¯¼å‡ºä¾›å¤–éƒ¨ä½¿ç”¨
        window.DomainSpeedTester = DomainSpeedTester;
    </script>
</body>
</html>